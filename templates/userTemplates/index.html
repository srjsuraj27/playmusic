{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'adminAssets/css/admin-dashboard.css' %}">

    <link href="{% static './css/bootstrap.min.css' %}" rel="stylesheet">

    <link href="{% static './css/fontawesome.all.min.css' %}" rel="stylesheet">

    <link href="{% static './css/main.css' %}" rel="stylesheet">

    <link href="{% static './css/user.css' %}" rel="stylesheet">

    

    <title>Home Page</title>
</head>
<body>
    <nav class="navbar sticky-top navbar-dark bg-dark">
        <a class="navbar-brand text-white ">PlayMusic</a>
        
       <a href="{% url 'user.logout' %}"><button class="btn btn-outline-success my-2 my-sm-0" type="button">Logout</button></a>
        
      </nav>
      <br>
      <br>

      <div class="table-responsive">
        <table class="table table-dark">
        <thead>
          <tr>
            <th scope="col">SI_NO</th>
            <th scope="col">Song Name</th>
            <th scope="col">Song Length</th>
            <th scope="col">Artist Name</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          
          {% for row in data %}
            <tr>
              <th>{{ forloop.counter }}</th>
              <td>{{ row.song_name }}<img id="speaker-anim-{{ forloop.counter }}" class="hide-gif" src="{% static './adminAssets/images/speaker.gif' %}" alt=""></td>
              <td>{{ row.song_length }} min</td>
              <td>{{ row.artist.artist_name }}</td>
              <td>
                      <a href="#" onclick="playmusic({{ forloop.counter }});" class="badge badge-success" id="span{{ forloop.counter }}">Play</a>
                      <audio onended="endAudio()" id="audio{{ forloop.counter }}" src="{{ row.song_file.url }}"></audio>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>


      <script src="{% static './js/jquery.min.js' %}"></script>

      <script src="{% static './js/bootstrap.bundle.min.js' %}"></script>
  
      <script src="{% static './js/jquery-ui.min.js' %}"></script>
  
      <script src="{% static './js/main.js' %}"></script>

      <script type="text/javascript" src="{% static 'adminAssets/js/loader.js' %}"></script>

    
</body>
</html>